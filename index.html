<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebFAuth</title>
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>
</head>
<body>

<div id="filesubmit">
    <input type="file" class="file-select" accept="image/*"/>
    <button class="file-submit">SUBMIT</button>
</div>

<script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyBr8QZpFv3AhAfsdMir-6aC-jluGBj8zsU",
        authDomain: "webfauth.firebaseapp.com",
        databaseURL: "https://webfauth.firebaseio.com",
        projectId: "webfauth",
        storageBucket: "webfauth.appspot.com",
        messagingSenderId: "497100765840",
        appId: "1:497100765840:web:ec7b39710d6233017bf615",
        measurementId: "G-66066J3MBZ"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const storageService = firebase.storage();
    const storageRef = storageService.ref();
    document.querySelector('.file-select').addEventListener('change',handleFileUploadChange);
    document.querySelector('.file-submit').addEventListener('click', handleFileUploadSubmit);
    let selectedFile;

    handleFileUploadChange(e)
    {
        selectedFile=e.target.files[0];
    }
   handleFileUploadSubmit(e)
    {
        const uploadTask = storageRef.child(`images/${selectedFile.name}`).put(selectedFile); //create a child directory called images, and place the file inside this directory
        uploadTask.on('state_changed', (snapshot) => {
            // Observe state change events such as progress, pause, and resume
        }, (error) => {
            // Handle unsuccessful uploads
            console.log(error);
        }, () => {
            // Do something once upload is complete
            console.log('success');
        });
    }

</script>
</body>
</html>